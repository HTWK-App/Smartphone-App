<div data-role="page" id="sport" data-title="Hochschulsport" data-theme="a" data-content-theme="a">
	<div data-role="content" id="sport_content" class="toblur">
		<ul data-role="listview" id="sport_content_list" data-filter="true" data-inset="true"> 
		</ul>
	</div>

	<script>
		$( document ).on( "pagecreate", '[data-title="Hochschulsport"]', function() {
			fillSports();
		});

		function fillSports () {
			$( '#sport_content_list' ).empty();
			showLoader();
			$.getJSON( SERVER_URL+'info/sport').done( function(data,a,b) {
				var pos = $('#sport_content_list');
				pos.empty();
				$.each( data, function( key, item ) {
					createSport(pos, item.id, item.title, item.description);
				});
				pos.listview("refresh");
				$.mobile.loading('hide'); 
				/*$('.prof').bind("click",function (e){
					changeToProf($(this).attr("data-id"));
				});*/
				showLoading = false;
			});
		}

		function createSport(pos, id, header, content){
			var pattern = 
				'<li data-id='+id+'><a href="#">'+
					'<h3>'+header+'</h3>'+
					'<p>'+content+'</p>'+
				'</a></li>';
			pos.append(pattern);
		}
	</script>
</div>
